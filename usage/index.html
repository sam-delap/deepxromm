
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sam-delap.github.io/deepxromm/usage/">
      
      
        <link rel="prev" href="../install/">
      
      
        <link rel="next" href="../config/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Usage - DeepLabCut Integration for XROMM (DeepXROMM) Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#usage-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="DeepLabCut Integration for XROMM (DeepXROMM) Docs" class="md-header__button md-logo" aria-label="DeepLabCut Integration for XROMM (DeepXROMM) Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DeepLabCut Integration for XROMM (DeepXROMM) Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Usage
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../install/" class="md-tabs__link">
        
  
  
    
  
  Installation

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  Usage

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../config/" class="md-tabs__link">
        
  
  
    
  
  Config File Reference

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../CONTRIBUTING/" class="md-tabs__link">
        
  
  
    
  
  Contributing Guide

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="DeepLabCut Integration for XROMM (DeepXROMM) Docs" class="md-nav__button md-logo" aria-label="DeepLabCut Integration for XROMM (DeepXROMM) Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DeepLabCut Integration for XROMM (DeepXROMM) Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Usage
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Usage
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-started-and-creating-a-new-project" class="md-nav__link">
    <span class="md-ellipsis">
      
        Getting started and creating a new project
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Getting started and creating a new project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-tracking-modes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Available tracking modes:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-codec-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video codec options:
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exporting-your-data-from-xmalab-in-a-usable-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        Exporting your data from XMAlab in a usable format
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importing-your-data-and-loading-the-project" class="md-nav__link">
    <span class="md-ellipsis">
      
        Importing your data and loading the project
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#converting-xmalab-data-to-deeplabcut-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        Converting XMAlab data to DeepLabCut format
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#training-the-project" class="md-nav__link">
    <span class="md-ellipsis">
      
        Training the project
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-a-trained-network-to-track-your-trials" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using a trained network to track your trial(s)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#converting-dlc-predictions-back-to-xmalab-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        Converting DLC predictions back to XMAlab format
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batch-training-multiple-projects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Batch Training Multiple Projects
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Batch Training Multiple Projects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#steps-executed-during-a-batch-training-session" class="md-nav__link">
    <span class="md-ellipsis">
      
        Steps executed during a batch training session:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formatting-your-filesystem-for-batch-training" class="md-nav__link">
    <span class="md-ellipsis">
      
        Formatting your filesystem for batch training:
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-autocorrect" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using autocorrect()
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using autocorrect()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testing-autocorrect-parameters-on-a-single-markerframe-combination" class="md-nav__link">
    <span class="md-ellipsis">
      
        Testing autocorrect() parameters on a single marker/frame combination
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-autocorrect-for-a-whole-trial" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using autocorrect for a whole trial
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retraining-the-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Retraining the Model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Retraining the Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#workflow-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Workflow Overview
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-extract-outlier-frames" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Extract Outlier Frames
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-track-outlier-frames-in-xmalab" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Track Outlier Frames in XMAlab
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-merge-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Merge Datasets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-continue-training-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Continue Training Pipeline
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#choosing-regions-with-high-variation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Choosing regions with high variation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-analysis-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Analysis Methods
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Analysis Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#video-similarity-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video Similarity Analysis
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Video Similarity Analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project-level-video-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      
        Project-Level Video Comparison
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trial-level-video-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      
        Trial-Level Video Comparison
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#marker-trajectory-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Marker Trajectory Analysis
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Marker Trajectory Analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project-level-marker-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      
        Project-Level Marker Comparison
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trial-level-marker-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      
        Trial-Level Marker Comparison
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utility-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Utility Methods
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utility Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extract-marker-names-from-xmalab-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Extract Marker Names from XMAlab Data
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Config File Reference
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../CONTRIBUTING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing Guide
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="usage-guide">Usage Guide</h1>
<p>There are two ways to use this package. You can either:</p>
<ol>
<li>Follow the usage guide below to run everything locally.</li>
</ol>
<h2 id="getting-started-and-creating-a-new-project">Getting started and creating a new project</h2>
<ol>
<li>If you haven't already, follow the steps in the <a href="../install/">installation guide</a> to install this package!</li>
<li>Activate your conda environment
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>conda<span class="w"> </span>activate<span class="w"> </span>your-env-name
</code></pre></div></li>
<li>Open an interactive Python session
    <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>ipython
</code></pre></div></li>
<li>From the terminal, run the following commands (replacing <code>/path/to/project-folder</code> with the path to the folder for your project and <code>SD</code> with your initials):
    <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">deepxromm</span><span class="w"> </span><span class="kn">import</span> <span class="n">DeepXROMM</span> 
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">working_dir</span> <span class="o">=</span> <span class="s1">&#39;/path/to/project-folder&#39;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="n">experimenter</span> <span class="o">=</span> <span class="s1">&#39;SD&#39;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="c1"># Basic usage</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="n">deepxromm</span> <span class="o">=</span> <span class="n">DeepXROMM</span><span class="o">.</span><span class="n">create_new_project</span><span class="p">(</span><span class="n">working_dir</span><span class="p">,</span> <span class="n">experimenter</span><span class="p">)</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="c1"># With custom tracking mode</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="n">deepxromm</span> <span class="o">=</span> <span class="n">DeepXROMM</span><span class="o">.</span><span class="n">create_new_project</span><span class="p">(</span><span class="n">working_dir</span><span class="p">,</span> <span class="n">experimenter</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;per_cam&#39;</span><span class="p">)</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="c1"># With custom video codec</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="n">deepxromm</span> <span class="o">=</span> <span class="n">DeepXROMM</span><span class="o">.</span><span class="n">create_new_project</span><span class="p">(</span><span class="n">working_dir</span><span class="p">,</span> <span class="n">experimenter</span><span class="p">,</span> <span class="n">codec</span><span class="o">=</span><span class="s1">&#39;XVID&#39;</span><span class="p">)</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="c1"># With both custom mode and codec</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="n">deepxromm</span> <span class="o">=</span> <span class="n">DeepXROMM</span><span class="o">.</span><span class="n">create_new_project</span><span class="p">(</span><span class="n">working_dir</span><span class="p">,</span> <span class="n">experimenter</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;rgb&#39;</span><span class="p">,</span> <span class="n">codec</span><span class="o">=</span><span class="s1">&#39;DIVX&#39;</span><span class="p">)</span>
</code></pre></div></li>
</ol>
<h3 id="available-tracking-modes">Available tracking modes:</h3>
<ul>
<li><code>2D</code> (default): Combines camera data into a single DeepLabCut project</li>
<li><code>per_cam</code>: Creates separate DeepLabCut projects for each camera view  </li>
<li><code>rgb</code>: Blends grayscale videos into RGB channels for single-network training</li>
</ul>
<blockquote>
<p><strong>Configuration:</strong> For detailed information about each mode and related settings, see the <a href="../config/#neural-network-customization">mode parameter</a> in the config file reference.</p>
</blockquote>
<h3 id="video-codec-options">Video codec options:</h3>
<ul>
<li><code>avc1</code> (default): H.264 codec, good balance of quality and compatibility</li>
<li><code>XVID</code>, <code>DIVX</code>: Alternative compression codecs</li>
<li><code>mp4v</code>, <code>MJPG</code>: Other supported formats</li>
<li><code>uncompressed</code>: No compression (large file sizes)</li>
</ul>
<blockquote>
<p><strong>Note:</strong> Not all codecs are available on all systems. DeepXROMM will raise a <code>RuntimeError</code> if the specified codec is unavailable.</p>
<p><strong>Configuration:</strong> For more details about codec options and system compatibility, see <a href="../config/#video-codec-settings">Video Codec Settings</a> in the config file reference.</p>
</blockquote>
<p>You should now see something that looks like this inside of your project folder:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>sample-proj
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>│<span class="w">   </span>project_config.yaml
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>│
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>├───sample-proj-SD-YYYY-MM-DD
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>├───trainingdata
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>├───trials
</code></pre></div></p>
<blockquote>
<p><strong>⚠️ Warning:</strong> Keep your Python session open. We'll be running more commands here shortly</p>
</blockquote>
<h2 id="exporting-your-data-from-xmalab-in-a-usable-format">Exporting your data from XMAlab in a usable format</h2>
<ol>
<li>DeepXROMM has built-in support for training data either as:<ul>
<li>Full distorted videos</li>
<li>.tif/.jpg stacks (Functions are there, but untested as of mid-December 2025)</li>
</ul>
</li>
<li>Along with your distorted videos, DeepXROMM expects CSV training data (XMAlab 2D points) exported with the following settings
<img alt="XMAlab training data settings" class="center" src="../XMA_export_settings.png" /></li>
</ol>
<h2 id="importing-your-data-and-loading-the-project">Importing your data and loading the project</h2>
<ol>
<li>The simplest approach is to create a new folder inside of the trainingdata folder named after your trial and place your raw videos, as well as distorted 2D points from tracking, in the folder.</li>
<li>There are also a number of options for customization in the project_config.yaml file. Check out the <a href="../config/">config file reference</a> to learn more about what each variable does</li>
<li>After you have added the trainingdata and/or trial folders, make sure to load the project. You should also reload it every time you update any settings.
    <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">deepxromm</span> <span class="o">=</span> <span class="n">DeepXROMM</span><span class="o">.</span><span class="n">load_project</span><span class="p">(</span><span class="n">working_dir</span><span class="p">)</span>
</code></pre></div></li>
</ol>
<h2 id="converting-xmalab-data-to-deeplabcut-format">Converting XMAlab data to DeepLabCut format</h2>
<ol>
<li>XMAlab and DeepLabCut both use CSV files (or a more data-rich format called HDF) as their primary means of storing tracking data.
In order to train a network for XMAlab trials, we need to convert the XMAlab-formatted data exported in the previous step
to a format that DeepLabCut can use. To do this, you can run:</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">deepxromm</span><span class="o">.</span><span class="n">xma_to_dlc</span><span class="p">()</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    <span class="err">```</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1">## Creating a training dataset</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="mf">1.</span> <span class="n">Next</span><span class="p">,</span> <span class="n">we</span><span class="s1">&#39;ll use the DLC formatted data we just extracted and codify it as our training</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="n">data</span> <span class="k">for</span> <span class="n">this</span> <span class="n">run</span> <span class="n">of</span> <span class="n">our</span> <span class="n">model</span><span class="o">.</span> <span class="n">To</span> <span class="n">do</span> <span class="n">this</span><span class="p">,</span> <span class="n">you</span> <span class="n">can</span> <span class="n">run</span><span class="p">:</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="err">```</span><span class="n">python</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="n">deepxromm</span><span class="o">.</span><span class="n">create_training_dataset</span><span class="p">()</span>
</code></pre></div>
<h2 id="training-the-project">Training the project</h2>
<ol>
<li>To start training your network, run the following in your Python terminal
    <div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">deepxromm</span><span class="o">.</span><span class="n">train_network</span><span class="p">()</span>
</code></pre></div></li>
</ol>
<blockquote>
<p><strong>Batch processing:</strong> To train multiple projects automatically, see <a href="#batch-training-multiple-projects">Batch Training Multiple Projects</a>.</p>
</blockquote>
<h2 id="using-a-trained-network-to-track-your-trials">Using a trained network to track your trial(s)</h2>
<ol>
<li>Make sure any trials that you want to analyze are in appropriately named folders in the <code>trials</code> directory, and each folder contains a CSV and distorted cam1/cam2 videos that are named <strong>folder_name</strong>.csv, <strong>folder_name</strong>_cam1.avi, and <strong>folder_name</strong>_cam2.avi, respectively</li>
<li>Run the following commands in your Python terminal:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">deepxromm</span><span class="w"> </span><span class="kn">import</span> <span class="n">DeepXROMM</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="n">working_dir</span> <span class="o">=</span> <span class="s1">&#39;/path/to/project-folder&#39;</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="n">deepxromm</span> <span class="o">=</span> <span class="n">DeepXROMM</span><span class="o">.</span><span class="n">load_project</span><span class="p">(</span><span class="n">working_dir</span><span class="p">)</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="n">deepxromm</span><span class="o">.</span><span class="n">analyze_videos</span><span class="p">()</span>
</code></pre></div></li>
<li>This will save a file named <strong>trial_name</strong>-Predicted2DPoints.csv to the it# file (where number is the number next to iteration: in your project_folder/project-name-SD-YYYY-MM-DD/config.yaml file) inside of your trials/trial_name folder</li>
<li>You can analyze the network's performance by importing this CSV as a 2D Points file into XMAlab with the following settings</li>
</ol>
<p><img alt="XMAlab import settings" class="center" src="../XMA_import_settings.png" /></p>
<blockquote>
<p><strong>Quality assessment:</strong> After analysis, use the methods in <a href="#advanced-analysis-methods">Advanced Analysis Methods</a> to validate your results.</p>
</blockquote>
<h2 id="converting-dlc-predictions-back-to-xmalab-format">Converting DLC predictions back to XMAlab format</h2>
<p>After analyzing your videos with the trained network, you may want to convert the DeepLabCut predictions back to XMAlab-compatible CSV format for import into XMAlab.</p>
<p>To convert predictions for all analyzed trials, run:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">deepxromm</span><span class="o">.</span><span class="n">dlc_to_xma</span><span class="p">()</span>
</code></pre></div>
<p>This will create <code>*-Predicted2DPoints.csv</code> files in each trial's iteration directory (e.g., <code>trials/trial_name/it0/trial_name-Predicted2DPoints.csv</code>). These files contain the network's predictions formatted with cam1/cam2 columns that XMAlab can import.</p>
<p><strong>When to use this:</strong>
- After running <code>analyze_videos()</code> to get XMAlab-compatible output
- When you want to visualize network predictions in XMAlab
- Before importing predicted points into XMAlab for validation</p>
<blockquote>
<p><strong>Note:</strong> This step is automatically performed when using <code>train_many_projects()</code> for batch processing.</p>
</blockquote>
<p>You can then import these CSV files into XMAlab using the same import settings shown in the <a href="#using-a-trained-network-to-track-your-trials">Using a trained network</a> section above.</p>
<h2 id="batch-training-multiple-projects">Batch Training Multiple Projects</h2>
<p>For labs with multiple DeepXROMM projects, you can automate the entire training pipeline using the <code>train_many_projects()</code> static method.</p>
<h3 id="steps-executed-during-a-batch-training-session">Steps executed during a batch training session:</h3>
<ol>
<li>Load each project configuration</li>
<li>Convert XMAlab data to DeepLabCut format (<code>xma_to_dlc()</code>)</li>
<li>Create training datasets (<code>create_training_dataset()</code>)</li>
<li>Train neural networks (<code>train_network()</code>)</li>
<li>Analyze videos with trained models (<code>analyze_videos()</code>)</li>
<li>Convert predictions back to XMAlab format (<code>dlc_to_xma()</code>)</li>
</ol>
<p>You can initiate a batch training session by running:
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">deepxromm</span><span class="w"> </span><span class="kn">import</span> <span class="n">DeepXROMM</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="c1"># Point to parent directory containing project folders</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="n">parent_directory</span> <span class="o">=</span> <span class="s1">&#39;/path/to/parent/containing/projects&#39;</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="n">DeepXROMM</span><span class="o">.</span><span class="n">train_many_projects</span><span class="p">(</span><span class="n">parent_directory</span><span class="p">)</span>
</code></pre></div></p>
<h3 id="formatting-your-filesystem-for-batch-training">Formatting your filesystem for batch training:</h3>
<ul>
<li>Each subdirectory of the parent directory should be a complete DeepXROMM project</li>
<li>Each project must have <code>project_config.yaml</code> </li>
<li>Training data must be in <code>trainingdata/</code> folders</li>
<li>Trial videos must be in <code>trials/</code> folders</li>
</ul>
<blockquote>
<p><strong>Important:</strong> This is a <strong>static method</strong> - call it directly on the <code>DeepXROMM</code> class, not on an instance.</p>
</blockquote>
<p><strong>Cross-reference:</strong> See individual workflow steps in sections above for details on each operation performed.</p>
<h2 id="using-autocorrect">Using autocorrect()</h2>
<p>This package comes pre-built with autocorrect() functions that leverage the same image filtering functions as XMAlab, and use the marker's outline to do centroid detection on each marker.
You can modify the autocorrect function's performance using the <strong>image processing</strong> parameters from the <a href="../config/">config file reference</a>.
You can also visualize the centroid detection process using the <strong>test_autocorrect()</strong> parameters.</p>
<h3 id="testing-autocorrect-parameters-on-a-single-markerframe-combination">Testing autocorrect() parameters on a single marker/frame combination</h3>
<p>You'll need a Python environment that is capable of displaying images, like a <a href="https://jupyter.org/">Jupyter Notebook</a>, for these steps.</p>
<ol>
<li>Go to your project_config.yaml file</li>
<li>Change the value of <strong>test_autocorrect</strong> to true by replacing the word "false" with the word "true", like this:<br />
    <div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nt">test_autocorrect</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div></li>
<li>Specify a trial (trial_name), camera (cam), frame number (frame_num), and marker name (marker) to test the autocorrect function on  </li>
<li>Import the package and initialize a deepxromm instance as above and run the following code snippet
    <div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">deepxromm</span><span class="o">.</span><span class="n">autocorrect_trials</span><span class="p">()</span>
</code></pre></div></li>
<li>Tune autocorrect() settings until you are satisfied with the testing output</li>
</ol>
<h3 id="using-autocorrect-for-a-whole-trial">Using autocorrect for a whole trial</h3>
<ol>
<li>If you tested autocorrect, set the test_autocorrect variable in your config file to false
    <div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nt">test_autocorrect</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</code></pre></div></li>
<li>Import the package and initialize a deepxromm instance as a above and run the following code snippet
    <div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">deepxromm</span><span class="o">.</span><span class="n">autocorrect_trials</span><span class="p">()</span>
</code></pre></div></li>
<li>This will save a file named <strong>trial_name</strong>-AutoCorrected2DPoints.csv to the it# file (where number is the number next to iteration: in your project_folder/project-name-SD-YYYY-MM-DD/config.yaml file) inside of your trials/trial_name folder
    <div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nt">iteration</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
</code></pre></div></li>
<li>You can analyze autocorrect's performance by importing this CSV as a 2D Points file into XMAlab with the following settings</li>
</ol>
<p><img alt="XMAlab import settings" class="center" src="../XMA_import_settings.png" /></p>
<h2 id="retraining-the-model">Retraining the Model</h2>
<p>Sometimes initial training isn't sufficient for the model to generalize to new data. When predictions are poor on novel trials, you can retrain by extracting problematic frames (outliers), tracking them in XMAlab, and incorporating them into a refined training dataset.</p>
<h3 id="workflow-overview">Workflow Overview</h3>
<p>The retraining workflow follows these steps:</p>
<ol>
<li><strong>Extract outlier frames</strong> from analyzed trials</li>
<li><strong>Track the outlier frames</strong> in XMAlab and export as CSV</li>
<li><strong>Merge the new data</strong> with your existing training dataset</li>
<li><strong>Retrain</strong> the network with the augmented dataset</li>
</ol>
<h3 id="step-1-extract-outlier-frames">Step 1: Extract Outlier Frames</h3>
<p>After analyzing your trials, identify frames where the network performed poorly:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">deepxromm</span><span class="o">.</span><span class="n">extract_outlier_frames</span><span class="p">()</span>
</code></pre></div>
<p>This creates <code>outliers.yaml</code> files in each trial's iteration directory (e.g., <code>trials/trial_name/it0/outliers.yaml</code>) containing frame numbers identified as outliers.</p>
<p><strong>Advanced usage:</strong> You can pass additional parameters to customize DeepLabCut's outlier detection. These are passed directly to DeepLabCut's underlying function. See the <a href="https://deeplabcut.github.io/DeepLabCut/docs/standardDeepLabCut_UserGuide.html#refine-labels-extract-outlier-frames">DeepLabCut extract_outlier_frames documentation</a> for available parameters.</p>
<p><strong>Configuration:</strong> Outlier detection behavior is controlled by settings in <code>project_config.yaml</code>. See <a href="../config/#augmenter-settings">Augmenter Settings</a> for details.</p>
<h3 id="step-2-track-outlier-frames-in-xmalab">Step 2: Track Outlier Frames in XMAlab</h3>
<ol>
<li>Review the frame numbers listed in <code>outliers.yaml</code></li>
<li>(Optional) Edit <code>outliers.yaml</code> to include only the frames you want to track. To do this programmatically:
   <div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">deepxromm.project</span><span class="w"> </span><span class="kn">import</span> <span class="n">Project</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="c1"># Load and edit outliers</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="n">outliers</span> <span class="o">=</span> <span class="n">Project</span><span class="o">.</span><span class="n">load_config_file</span><span class="p">(</span><span class="s1">&#39;trials/trial_name/it0/outliers.yaml&#39;</span><span class="p">)</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="n">outliers</span> <span class="o">=</span> <span class="n">outliers</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>  <span class="c1"># Keep only first 5 frames</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="n">Project</span><span class="o">.</span><span class="n">save_config_file</span><span class="p">(</span><span class="n">outliers</span><span class="p">,</span> <span class="s1">&#39;trials/trial_name/it0/outliers.yaml&#39;</span><span class="p">)</span>
</code></pre></div></li>
<li>Track those frames in XMAlab for your trial</li>
<li>Export the tracked data as CSV with the same settings from <a href="#exporting-your-data-from-xmalab-in-a-usable-format">Exporting your data from XMAlab</a></li>
<li>Save the CSV as <code>*outliers*.csv</code> in the iteration directory:</li>
<li>Example: <code>trials/trial_name/it0/trial_name_outliers_tracking.csv</code></li>
</ol>
<blockquote>
<p><strong>Note:</strong> As long as the CSV contains the word 'outliers', all lowercase, deepxromm will detect it and use it to add new data to the training dataset
<strong>Note:</strong> The CSV can contain more frames than just the outliers—DeepXROMM will extract only the frames listed in <code>outliers.yaml</code>.</p>
</blockquote>
<h3 id="step-3-merge-datasets">Step 3: Merge Datasets</h3>
<p>Incorporate the newly tracked outlier data into your training dataset:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">deepxromm</span><span class="o">.</span><span class="n">merge_datasets</span><span class="p">()</span>
</code></pre></div>
<p>This will:</p>
<ul>
<li>Merge outlier data with existing training data</li>
<li>Increment the DeepLabCut iteration number</li>
<li>Update <code>nframes</code> in your config to include the new frames</li>
<li>Copy trial videos to <code>trainingdata/</code> if they weren't already there</li>
</ul>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>update_nframes</code> (bool, default=True): Automatically update the <code>nframes</code> config value</li>
<li><code>update_init_weights</code> (bool, default=True): Update initial weights to reference a previous training bout for transfer learning</li>
</ul>
<p>After merging, <strong>reload your project</strong> to apply the updated configuration:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">deepxromm</span> <span class="o">=</span> <span class="n">DeepXROMM</span><span class="o">.</span><span class="n">load_project</span><span class="p">(</span><span class="n">working_dir</span><span class="p">)</span>
</code></pre></div>
<h3 id="step-4-continue-training-pipeline">Step 4: Continue Training Pipeline</h3>
<p>With the augmented dataset, continue through the standard training workflow:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">deepxromm</span><span class="o">.</span><span class="n">xma_to_dlc</span><span class="p">()</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="n">deepxromm</span><span class="o">.</span><span class="n">create_training_dataset</span><span class="p">()</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="n">deepxromm</span><span class="o">.</span><span class="n">train_network</span><span class="p">()</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="n">deepxromm</span><span class="o">.</span><span class="n">analyze_videos</span><span class="p">()</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="n">deepxromm</span><span class="o">.</span><span class="n">dlc_to_xma</span><span class="p">()</span>
</code></pre></div>
<p>The network will now train on both your original frames and the newly tracked outliers, improving performance on challenging cases.</p>
<p><strong>Cross-reference:</strong> For configuration of outlier detection algorithms, see <a href="../config/#augmenter-settings">Augmenter Settings</a>.</p>
<h2 id="choosing-regions-with-high-variation">Choosing regions with high variation</h2>
<p>One thing that has been previously shown to help with neural network performance is variation of movement.
To assist with finding regions of maximal dissimilarity within trial videos, we developed an automated function finds
the portion of your videos with the most movement.
To change how large the region we find is, simply change the size of the sliding window to suit your tracking needs.</p>
<p>To use this function:</p>
<ol>
<li>Boot up your conda environment</li>
<li>Import the package</li>
<li>Load your project</li>
<li>Run the following function<ol>
<li>Replace <strong>/path/to/your/trial</strong> with the folder where your raw videos are stored</li>
<li>Replace <strong>size_of_window</strong> with how many frames you want to track
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">deepxromm</span><span class="o">.</span><span class="n">get_max_dissimilarity_for_trial</span><span class="p">(</span><span class="s1">&#39;/path/to/your/trial&#39;</span><span class="p">,</span> <span class="n">size_of_window</span><span class="p">)</span>
</code></pre></div></li>
</ol>
</li>
</ol>
<h2 id="advanced-analysis-methods">Advanced Analysis Methods</h2>
<p>DeepXROMM provides several analysis tools to help you explore and validate your XMA project data, compare trials, and assess tracking quality.</p>
<h3 id="video-similarity-analysis">Video Similarity Analysis</h3>
<h4 id="project-level-video-comparison">Project-Level Video Comparison</h4>
<p>Analyze video similarity across all trials in your project using perceptual image hashing:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="n">similarity_scores</span> <span class="o">=</span> <span class="n">deepxromm</span><span class="o">.</span><span class="n">analyze_video_similarity_project</span><span class="p">()</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="nb">print</span><span class="p">(</span><span class="n">similarity_scores</span><span class="p">)</span>  <span class="c1"># Dictionary with similarity metrics</span>
</code></pre></div>
<p><strong>Returns:</strong> Dictionary with similarity scores (0 = identical videos, higher values = more different)</p>
<p><strong>Use cases:</strong>
- Verify consistent camera positioning across trials
- Identify outlier trials with different lighting or setup
- Validate stereo camera alignment</p>
<blockquote>
<p><strong>⚠️ Warning:</strong> This method assumes all cam1/cam2 pairs in your project have the same relationship. Configure the <code>cam1s_are_the_same_view</code> parameter in your project config to control this behavior. See <a href="../config/#video-similarity-analysis">Video Similarity Analysis</a> in the config file reference for details.</p>
</blockquote>
<h4 id="trial-level-video-comparison">Trial-Level Video Comparison</h4>
<p>Compare similarity between camera views for a specific trial:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">similarity_score</span> <span class="o">=</span> <span class="n">deepxromm</span><span class="o">.</span><span class="n">analyze_video_similarity_trial</span><span class="p">()</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cam1/Cam2 similarity: </span><span class="si">{</span><span class="n">similarity_score</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Returns:</strong> Float representing dissimilarity between the trial's camera pairs</p>
<p><strong>Use case:</strong> Validate that your stereo camera setup captures appropriately different perspectives of the same scene.</p>
<h3 id="marker-trajectory-analysis">Marker Trajectory Analysis</h3>
<h4 id="project-level-marker-comparison">Project-Level Marker Comparison</h4>
<p>Analyze marker movement patterns across all trials:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="n">marker_similarity</span> <span class="o">=</span> <span class="n">deepxromm</span><span class="o">.</span><span class="n">analyze_marker_similarity_project</span><span class="p">()</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="nb">print</span><span class="p">(</span><span class="n">marker_similarity</span><span class="p">)</span>  <span class="c1"># Dictionary with marker trajectory metrics</span>
</code></pre></div>
<p><strong>Returns:</strong> Dictionary with trajectory similarity scores for each marker</p>
<p><strong>Use cases:</strong>
- Identify consistent vs. variable movement patterns
- Detect trials with unusual marker behavior
- Validate tracking consistency across experimental conditions</p>
<blockquote>
<p><strong>⚠️ Warning:</strong> Like video analysis, this assumes consistent cam1/cam2 relationships across all trials. Configure the <code>cam1s_are_the_same_view</code> parameter to control this behavior. See <a href="../config/#video-similarity-analysis">Video Similarity Analysis</a> in the config file reference.</p>
</blockquote>
<h4 id="trial-level-marker-comparison">Trial-Level Marker Comparison</h4>
<p>Compare marker positions between camera views for a specific trial:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">marker_differences</span> <span class="o">=</span> <span class="n">deepxromm</span><span class="o">.</span><span class="n">analyze_marker_similarity_trial</span><span class="p">()</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mean position differences: </span><span class="si">{</span><span class="n">marker_differences</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Returns:</strong> Mean coordinate differences between paired markers (cam1_X - cam2_X, cam1_Y - cam2_Y)</p>
<p><strong>Use cases:</strong>
- Validate marker tracking accuracy between camera views
- Identify problematic markers or time periods
- Assess stereo calibration quality</p>
<h3 id="utility-methods">Utility Methods</h3>
<h4 id="extract-marker-names-from-xmalab-data">Extract Marker Names from XMAlab Data</h4>
<p>Programmatically retrieve bodypart/marker names from XMAlab CSV files:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="n">marker_names</span> <span class="o">=</span> <span class="n">deepxromm</span><span class="o">.</span><span class="n">get_bodyparts_from_xma</span><span class="p">(</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>    <span class="n">csv_path</span><span class="o">=</span><span class="s1">&#39;/path/to/trial/data.csv&#39;</span><span class="p">,</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>    <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;2D&#39;</span>  <span class="c1"># Match your project&#39;s mode (you can do this via deepxromm with deepxromm.config[&quot;mode&quot;])</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="p">)</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found markers: </span><span class="si">{</span><span class="n">marker_names</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Parameters:</strong>
- <code>csv_path</code> (str): Path to XMAlab 2D points CSV file
- <code>mode</code> (str): Should match your project mode (<code>'2D'</code>, <code>'per_cam'</code>, or <code>'rgb'</code>), but can be any valid mode</p>
<p><strong>Returns:</strong> List of marker names found in the CSV file</p>
<p><strong>Use cases:</strong>
- Validate marker naming consistency across trials before training
- Programmatically verify expected markers are present
- Debug import/export issues</p>
<p><strong>Cross-reference:</strong> Use with the data import workflow described in <a href="#importing-your-data-and-loading-the-project">Importing your data and loading the project</a>.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/sam-delap/sdlc_xmalab" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/sam-delap/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>